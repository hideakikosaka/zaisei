<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>税金の負担を学ぼう</title>
    <style>
        body { 
            font-family: "Arial", sans-serif;
            text-align: center;
            background-color: #f0f8ff;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            padding: 20px;
        }
        .card {
            background-color: #fff8dc;
            border: 3px solid #ffcc00;
            padding: 20px;
            margin: 15px;
            border-radius: 15px;
            box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.1);
        }
        .draggable {
            display: inline-block;
            padding: 10px;
            margin: 5px;
            border: 2px solid #ff9966;
            border-radius: 10px;
            background-color: #ffcc99;
            cursor: grab;
        }
        .dropzone {
            border: 3px dashed #ffcc00;
            padding: 20px;
            min-height: 50px;
            background-color: #fffaf0;
            border-radius: 10px;
        }
        button {
            background-color: #ffcc00;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #ffaa00;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .no-bullet {
            list-style-type: none; /* リストのマーカーを消す */
            padding: 0; /* 左の余白をなくす */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>税金の負担を学ぼう！</h1>
        <p>税金の負担の仕組みをクイズやゲームで学んでみよう！</p>
        
        <div class="card">
            <h2>応能負担と水平負担</h2>
            <p>「応能負担」は、収入が多い人が多く税金を払う仕組みです。</p>
            <p>「水平負担」は、同じ条件の人が同じ税金を払う仕組みです。</p>
        </div>
        
        <div class="card">
            <h2>クイズ！どっちがどっち？</h2>
            <p>「みんな同じ金額を払う」これはどっち？</p>
            <button onclick="checkAnswer('水平負担')">水平負担</button>
            <button onclick="checkAnswer('応能負担')">応能負担</button>
            <p id="quiz-result"></p>
        </div>
        
        <div class="card">
            <h2>税金の種類を分けよう！</h2>
            <p>以下の税金を、応能負担と水平負担に分けてみよう！</p>
            <div class="draggable" draggable="true" id="income-tax">所得税</div>
            <div class="draggable" draggable="true" id="residence-tax">住民税</div>
            <div class="draggable" draggable="true" id="consumption-tax">消費税</div>
            <p>応能負担:</p>
            <div class="dropzone" id="zone-1"></div>
            <p>水平負担:</p>
            <div class="dropzone" id="zone-2"></div>
            <p id="drop-result" class="error"></p>
        </div>
        
        <div class="card">
    <h2>ワーク：町の橋を直そう！</h2>
    <p>ある町には3人の住民が住んでいます。それぞれの年収は以下の通りです：</p>
    <ul class="no-bullet">
        <li>田中さん（年収 100万円）</li>
        <li>佐藤さん（年収 500万円）</li>
        <li>鈴木さん（年収 1000万円）</li>
    </ul>
    <p>ある日、町の橋が壊れてしまいました。修理費は300万円です。</p>
            <p>どのように負担するのが「公平」でしょうか？下のボタンを押して考えてみましょう！</p>
            <button onclick="showFairnessAnswer('equal')">全員が同じ額を払う（各100万円）</button>
            <button onclick="showFairnessAnswer('proportion')">収入に応じて負担する</button>
            <button onclick="showFairnessAnswer('rich-pay-more')">お金持ちが多く払う</button>
            <p id="fairness-result"></p>
        </div>
    </div>
    
    <script>
    function checkAnswer(answer) {
        document.getElementById('quiz-result').textContent = 
            (answer === '水平負担') ? 
            '正解！水平負担は収入に関係なく同じ金額を払う仕組みです。' : 
            '残念！応能負担は収入が多いほど税金が高くなる仕組みです。';
    }

    function showFairnessAnswer(choice) {
        const messages = {
            'equal': '全員が同じ額を払うのは公平？収入の少ない人には負担が大きいかも！',
            'proportion': '収入に応じて負担する方法は、応能負担の考え方に近いですね！',
            'rich-pay-more': 'お金持ちが多く払うのは、累進課税の考え方です！'
        };
        document.getElementById('fairness-result').textContent = messages[choice];
    }

        document.querySelectorAll('.draggable').forEach(item => {
        item.addEventListener('dragstart', event => {
            event.dataTransfer.setData('text/plain', event.target.id);
        });
    });

    document.querySelectorAll('.dropzone').forEach(zone => {
        zone.addEventListener('dragover', event => {
            event.preventDefault(); // これがないとドロップできない
        });
        zone.addEventListener('drop', event => {
            event.preventDefault();
            const id = event.dataTransfer.getData('text/plain');
            const draggedElement = document.getElementById(id);
            if (draggedElement && !event.target.contains(draggedElement)) {
                event.target.appendChild(draggedElement);
                checkSortingResult();
            }
        });
    });

    function checkSortingResult() {
        const correctAssignments = {
            'income-tax': 'zone-1',
            'residence-tax': 'zone-1',
            'consumption-tax': 'zone-2'
        };

        let allCorrect = true;
        for (const [taxId, correctZone] of Object.entries(correctAssignments)) {
            const element = document.getElementById(taxId);
            if (element.parentElement.id !== correctZone) {
                allCorrect = false;
                break;
            }
        }

        const resultText = allCorrect ? '仕分け完了！' : 'もう少し考えよう！';
        document.getElementById('drop-result').textContent = resultText;
    }
</script>

</body>
</html>
